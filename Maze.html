<!Doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;1,300;1,400&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500&display=swap" rel="stylesheet">
		<link href="css/reset.css" rel="stylesheet" />
        <link href="css/style.css" rel="stylesheet" />
        <title>Maze Game</title>
    </head>
    <body>
        <div id="gradient"></div>
        <div class="cd-timer">
        <svg class="timer">
          <circle class="progress-frame" cx="100" cy="100" r="50"></circle>
          <circle class="progress" cx="100" cy="100" r="50"></circle>
      </svg>
      <div class="time">
          <p><span class="seconds">59</span></p>
      </div>
    </div>
    <div id="page">
      <div id="Message-Container">
        <div id="message">
          <h1>Congratulations!</h1>
          <p>You are done.</p>
          <p id="moves"></p>
          <input id="okBtn" type="button" onclick="toggleVisablity('Message-Container')" value="Cool!" />
        </div>
      </div>
      <div id="menu">
        <div class="custom-select">
          <select id="diffSelect">
                    <option value="10">Easy</option>
                    <option value="15">Medium</option>
                    <option value="25">Hard</option>
                    <option value="38">Extreme</option>                                      
                </select>
        </div>
        <input id="startMazeBtn" type="button" onclick="makeMaze()" value="Start" />
      </div>
      <div id="view">
        <div id="mazeContainer">
          <canvas id="mazeCanvas" class="border" height="1100" width="1100"></canvas>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.18/jquery.touchSwipe.min.js"></script>
    <script type="text/javascript" src="js/script.js"></script>
    <script>
        let progressElm = document.getElementsByClassName('progress')[0];
        let circumference = 2 * Math.PI * progressElm.getAttribute('r');

        progressElm.style.strokeDasharray = circumference;
        progressElm.style.strokeDashoffset = circumference * 0;

        let max = parseInt(document.getElementsByClassName('seconds')[0].textContent);
        let seconds = max;

        let secondsElm = document.getElementsByClassName('seconds')[0];

        let timerId = setInterval(() => {
        seconds--;
        if(seconds <= 0)
        clearInterval(timerId);

        percentage = seconds/max * 100;
        progressElm.style.strokeDashoffset = circumference - (percentage/100) * circumference;

        secondsElm.textContent = seconds.toString().padStart(2, '0');
        }, 1000);

        setTimeout(function(){
          location.reload(3);
        alert("Time's Up! Restart again!");
        }, 60000);
    </script>
    </body>
</html>
